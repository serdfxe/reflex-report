from reflex_report.components.code_block import code_block
from reflex_report.components.menu_item import menu_item
from ...template.base import template
import reflex as rx

@rx.page(route="/advance", title="ü¶æ" * 5)
@template
def index():
    return rx.vstack(
        rx.markdown("# –ù–µ –±–∞–∑–∞"),
        rx.markdown("## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞"),
        rx.markdown("–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –≤—Å–µ –±–∞–∑–æ–≤—ã–µ –∏ –Ω–µ —Ç–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü. –ö–∞–∫ –≤–æ–æ–±—â–µ –≤—ã–≥–ª—è–¥–∏—Ç `reflex` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?"),
        rx.markdown("–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `reflex` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–∞—è:"),
        code_block("",
"""
my-app
‚îú‚îÄ‚îÄ .web
‚îú‚îÄ‚îÄ assets
‚îú‚îÄ‚îÄ my-app
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ my_app.py
‚îî‚îÄ‚îÄ rxconfig.py
"""
        ),
        rx.markdown("–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `.web` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å—è –º–∞–≥–∏—è —Å–æ–∑–¥–∞–Ω–∏—è `frontend` –ø–æ –Ω–∞—à–µ–º—É –∫–æ–¥—É –Ω–∞ `python`. –¢–∞–º —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `js` –∫–æ–¥. –¢—Ä–æ–≥–∞—Ç—å –µ—ë –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –Ω–æ —è —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –≤–æ–æ–±—â–µ —Ç–∞–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç."),
        rx.markdown("–ù–∞–ø—Ä–∏–º–µ—Ä –≤ –Ω–µ–π –µ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `.web/pages`, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤—Å–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."),
        rx.markdown("–ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–∞–ø–∫–∞ —Å —Ç–∞–∫–∏–º –∂–µ –∏–º–µ–Ω–µ–º. –í –Ω–µ–π –∫–∞–∫ —Ä–∞–∑ —Ç–∞–∫–∏ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å. (–≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ `my-app/`). –í —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ñ–∞–π–ª —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º."),
        rx.markdown("–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `assets` –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∞–π–ª—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —â—Ä–∏—Ñ—Ç—ã –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ö –Ω–∏–º –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º (`assets/parrot.png`):"),
        code_block("", 
"""
rx.image(src="parrot.png")
"""
        ),
        rx.markdown("–ü–∞–ø–∫–∞ `assets` –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤. –ï—Å–ª–∏ –≤–¥—Ä—É–≥ –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞ —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤, —Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–¥–æ–π–¥—ë—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/uploaded_files` (–º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—ã—è `REFLEX_UPLOADED_FILES_DIR`). –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –∫–æ–¥–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `rx.get_upload_dir()`, –∞ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É `rx.get_upload_url(relative_path)`. –ü–æ–ª—É—á–∏—Ç—å –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –±—ç–∫–µ–Ω–¥ (–æ–±—ã—á–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É `8000`) –ø–æ —Å—Å—ã–ª–∫–µ `/_upload/<path>`"),
        rx.markdown("## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"),
        rx.markdown("–ß—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ —Ñ–∞–π–ª–µ `rxconfig.py`, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∫–æ–Ω—Ñ–∏–≥ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:"),
        code_block("",
"""
import reflex as rx

config = rx.Config(
    app_name="my_app",
)
"""
        ),
        rx.markdown("–í `rx.Config` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã: `app_name`, `loglevel`, `frontend_port`, `backend_port`, `frontend_path`, `api_url`, `env_file`. –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω—ã–µ."),
        rx.markdown("–¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `.env` —Ñ–∞–π–ª–µ –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `update_from_env`"),
        rx.markdown("## –ß—Ç–æ —É `Reflex` –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?"),
        rx.markdown("–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ, –Ω–æ —É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `reflex` 2 —á–∞—Å—Ç–∏: `frontend` (–Ω–∞ `React`) –∏ `backend` (–Ω–∞ `FastAPI`)."),
        rx.markdown("–¢–∞–∫ –∫–∞–∫ –≤ `python` –Ω–µ—Ç —Ö–æ—Ä–æ—à–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è HTML —à–∞–±–ª–æ–Ω–æ–≤, –∫–∞–∫ jsx, (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π, –∫–æ—Ç–æ—Ä—ã–π —è –∑–Ω–∞—é (`packed`) –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –æ–±–Ω–æ–≤–ª—è–ª—Å—è 9 –ª–µ—Ç –Ω–∞–∑–∞–¥ üò≠, –Ω–∞–¥–µ—é—Å—å –µ—â—ë –ø–æ—è–≤–∏—Ç—å—Å—è —Ö–æ—Ä–æ—à–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç) `Reflex` —Å—Ç—Ä–æ–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –ø–æ–º–æ—â—å—é `python` —Ñ—É–Ω–∫—Ü–∏–π. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —ç—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:"),
        code_block("",
"""
def index():
    return rx.vstack(
        rx.image(
            src=ParrotState.url,
        ),
        rx.text(
            "Parrot!",
        ),
        rx.button(
            "next",
            on_click=ParrotState.next,
        ),
    )
"""
        ),
        code_block("",
"""
<VStack>
    <Image src={ParrotState.url}/>
    <Text>
        Parrot!
    </Text>
    <Button onClick={ParrotState.next}>
        next
    </Button>
</VStack>
"""
        ),
        rx.markdown("`Reflex` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ `Radix`, –∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ `css` —Å—Ç–∏–ª—è–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `Emotion`."),
        rx.markdown("–ö—Ä–æ–º–µ —Å–∞–º–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ `frontend` —á–∞—Å—Ç–∏ –µ—Å—Ç—å –µ—â—ë 2 —Å—É—â–Ω–æ—Å—Ç–∏: `—Ç—Ä–∏–≥–≥–µ—Ä—ã` —Å–æ–±—ã—Ç–∏–π –∏ `–æ—á–µ—Ä–µ–¥—å` —Å–æ–±—ã—Ç–∏–π. `–¢—Ä–∏–≥–≥–µ—Ä—ã` - —ç—Ç–æ —Ç–µ —Å–æ–±—ã—Ç–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–≤–µ—à–∞–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `on_blur=MyState.set_text`. –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ –∏ `—Ç—Ä–∏–≥–≥–µ—Ä` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –æ–Ω –ø–æ–º–µ—â–∞–µ—Ç –≤ `–æ—á–µ—Ä–µ–¥—å` —Å–æ–±—ã—Ç–∏–π —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:"),
        code_block("", 
"""
{
    client_token: "...token...",
    event_handler: "MyState.set_text",
    arguments: ["input-text"]
}
"""
        ),
        rx.markdown("–ö–ª–∏–Ω–µ—Ç—Å–∫–∏–π —Ç–æ–∫–µ–Ω, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã. (–ï—Å–ª–∏ —á–µ—Ç—Å–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–æ –ª–æ–º–∞—Ç—å —ç—Ç–æ —è –Ω–µ –ø—ã—Ç–∞–ª—Å—è ü§®) –ü–æ—Å–ª–µ –∏–∑ —á–µ—Ä–µ–¥–∏ —Å–æ–±—ã—Ç–∏–π –æ–Ω–æ –≤—ã—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ `backend`, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `State` –ø–æ –≤–µ–±-—Å–æ–∫–µ—Ç—É."),
        rx.markdown("`Backend` —É `reflex` - —ç—Ç–æ –ø–æ —Å—É—Ç–∏ —Å—É—â–Ω–æ—Å—Ç–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ - `State`. –ê –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - —ç—Ç–æ `–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ` (–æ–±—ã—á–Ω—ã–µ –∏ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ) –∏ `–æ–±–∞–±–æ—Ç—á–∏–∫–∏` —Å–æ–±—ã—Ç–∏–π."),
        rx.markdown("–ù–æ —Ç–∞–∫ –∂–µ –≤ `backend`'–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞–¥—Å—É—â–Ω–æ—Å—Ç—å –Ω–∞–¥ —Å–æ—Å—Ç—è–Ω–∏—è–º–∏ - `–º–µ–Ω–µ–¥–∂–µ—Ä` —Å–æ—Å—Ç–æ—è–Ω–∏–π. –ë–ª–∞–≥–æ–¥–∞—Ä—è –Ω–µ–º—É –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∫–ª–∞–¥–Ω–æ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ. –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –º–µ–Ω–µ–¥–∂–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–æ–≤–∞—Ä—å –≤ –ø–∞–º—è—Ç–∏, –Ω–æ —Ç–∞–∫ –∂–µ –º–æ–∂–Ω–æ –ø—Ä–∏–∫—Ä—É—Ç–∏—Ç—å `redis`."),
        rx.markdown(""),
        rx.flex(
            menu_item("–ü–æ—Å–ª–µ—Å–ª–æ–≤–∏–µ. –ü–æ—Å–ª–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è", "arrow-right", "/outro"),
            style={
                "width": "100%",
            },
            justify="end",
        ),
        style={
            "width": "100%",
        },
    )
